# Simulated Market Data Specification

## Overview

This document defines the realistic simulated market data used in the Enhanced Candlestick Trading Interface. The data is generated by `live_market_simulator.py` to provide accurate, realistic OHLCV (Open, High, Low, Close, Volume) data that mirrors current market conditions without requiring external API dependencies.

## Base Price References (September 2024)

All base prices are set to reflect realistic market values as of September 2024:

### üá∫üá∏ US Major Indices

| Symbol | Name | Base Price | Current Real Range | Description |
|--------|------|------------|-------------------|-------------|
| `^GSPC` | S&P 500 | 5,800 | 5,700-5,900 | Broad US market index |
| `^IXIC` | NASDAQ Composite | 18,200 | 18,000-18,500 | Technology-heavy index |
| `^DJI` | Dow Jones Industrial | 42,000 | 41,000-42,500 | 30 large US companies |
| `^RUT` | Russell 2000 | 2,200 | 2,150-2,250 | Small-cap index |
| `^VIX` | VIX Volatility Index | 15.0 | 12-25 | Fear gauge |

### üá¶üá∫ Australian Market

| Symbol | Name | Base Price | Current Real Range | Currency |
|--------|------|------------|-------------------|----------|
| `^AORD` | ASX All Ordinaries | **8,250** | 8,200-8,400 | AUD |
| `^AXJO` | ASX 200 | **8,250** | 8,200-8,400 | AUD |

**Note**: Previously set to 7,200 (incorrect) - now corrected to realistic 8,250 level.

### üåç Global Indices

| Symbol | Name | Base Price | Current Real Range | Currency |
|--------|------|------------|-------------------|----------|
| `^FTSE` | FTSE 100 | 8,200 | 8,100-8,300 | GBP |
| `^GDAXI` | DAX | 18,900 | 18,500-19,200 | EUR |
| `^N225` | Nikkei 225 | 38,500 | 38,000-39,500 | JPY |

### üì± Major Tech Stocks

| Symbol | Company | Base Price | Current Real Range | Notes |
|--------|---------|------------|-------------------|--------|
| `AAPL` | Apple | $225 | $220-235 | Updated from $175 |
| `GOOGL` | Alphabet | $165 | $160-170 | Updated from $140 |
| `MSFT` | Microsoft | $420 | $415-430 | Updated from $340 |
| `AMZN` | Amazon | $185 | $180-190 | Updated from $145 |
| `TSLA` | Tesla | $240 | $230-250 | Volatile stock |
| `META` | Meta | $500 | $490-520 | Updated from $320 |
| `NVDA` | NVIDIA | $135 | $130-140 | Post-split price |

### üè¶ Financial Sector

| Symbol | Company | Base Price | Current Real Range |
|--------|---------|------------|-------------------|
| `JPM` | JPMorgan Chase | $220 | $215-225 |
| `V` | Visa | $280 | $275-285 |
| `MA` | Mastercard | $480 | $470-490 |
| `BAC` | Bank of America | $42 | $40-44 |

### üíé Commodities & Crypto

| Symbol | Asset | Base Price | Notes |
|--------|-------|------------|--------|
| `GLD` | Gold ETF | $190 | Tracks gold prices |
| `BTC-USD` | Bitcoin | $65,000 | Highly volatile |

## Data Generation Methodology

### Price Movement Simulation

1. **Conservative Volatility**: Base volatility set to 0.5% (reduced from 2% for realism)
2. **Market Hours Multiplier**: 
   - US Market Hours (14:30-21:00 UTC): 1.5x volatility
   - European Hours (08:00-16:30 UTC): 1.2x volatility  
   - Asian Hours (00:00-06:00 UTC): 1.1x volatility
   - Off Hours: 0.5x volatility

3. **Price Constraints**: Maximum 5% change per interval to prevent extreme movements

### OHLCV Generation Rules

#### Open, High, Low, Close (OHLC)
- **Open**: Current price from previous interval
- **Close**: Open price + calculated price movement
- **High**: Maximum of (Open, Close) + random upward movement
- **Low**: Minimum of (Open, Close) - random downward movement
- **Validation**: Ensures High ‚â• max(Open, Close) and Low ‚â§ min(Open, Close)

#### Volume Simulation
- **Indices**: Base volume 1-2 million with market hours multiplier
- **Individual Stocks**: Base volume 10-20 million with multiplier
- **Variation**: ¬±50-200% random variation to simulate real trading patterns

### Trend Evolution

- **Market Trend**: Slowly evolving value between -1 (bearish) and +1 (bullish)
- **Trend Influence**: Minimal impact (0.02%) to maintain realistic price action
- **Random Walk**: Gaussian distribution with market hours adjustment

## Technical Indicators

When technical indicators are enabled (`&indicators=true`), the system calculates:

### Moving Averages
- **SMA 5, 10, 20**: Simple moving averages
- **EMA 12, 26**: Exponential moving averages

### Momentum Indicators  
- **RSI**: Relative Strength Index (0-100 scale)
- **MACD**: Moving Average Convergence Divergence

### Volume Analysis
- **Average Volume**: Historical average volume
- **Volume Trend**: Increasing/decreasing analysis
- **Current vs Average**: Comparison metrics

### Support & Resistance
- **Dynamic Levels**: Calculated from recent price action
- **Resistance**: Recent high levels
- **Support**: Recent low levels

## Data Accuracy & Limitations

### Strengths ‚úÖ
- **Realistic Price Levels**: All base prices reflect current market values (Sept 2024)
- **Proper OHLC Relationships**: Mathematically correct candlestick structures
- **Market Hours Awareness**: Different volatility during trading hours
- **Conservative Movements**: No extreme or unrealistic price swings
- **Appropriate Volumes**: Market-cap appropriate trading volumes

### Limitations ‚ö†Ô∏è
- **Simulated Data**: Not actual live market feeds
- **No External Events**: Doesn't reflect real news/earnings impacts
- **Simplified Correlations**: Markets don't move with real inter-market relationships
- **No Gap Events**: No overnight gaps or circuit breaker events
- **Linear Time**: Doesn't account for market holidays or weekends

## Configuration

### Environment Variables
```bash
# Live Data Settings
LIVE_DATA_ENABLED=true
REQUIRE_LIVE_DATA=true
DATA_CACHE_MINUTES=2
```

### Customization
To update base prices, modify `live_market_simulator.py`:

```python
self.base_prices = {
    '^AORD': 8250.0,  # Update to current ASX level
    # ... other symbols
}
```

## Real vs Simulated Comparison

### ASX All Ordinaries Example
- **Previous Simulated**: 7,200 (‚ùå 12.7% below real market)
- **Current Simulated**: 8,250 (‚úÖ Within 2% of real market)  
- **Real Market Range**: 8,200-8,400 (Sept 2024)

### Accuracy Targets
- **Major Indices**: Within ¬±5% of real market levels
- **Individual Stocks**: Within ¬±10% of real market levels  
- **Volatility**: Conservative to prevent unrealistic movements

## API Endpoints

### Candlestick Data
```
GET /api/candlestick/enhanced/{symbol}?interval=60&period=24h
```

### Technical Indicators
```  
GET /api/candlestick/enhanced/{symbol}?interval=60&period=24h&indicators=true
```

### Export Data
```
GET /api/candlestick/export/{symbol}?interval=60&period=24h&format=csv
```

## Update History

- **September 16, 2024**: Updated all base prices to current market levels
- **Key Fix**: ASX All Ordinaries corrected from 7,200 to 8,250 (+14.6%)
- **Enhancement**: Added comprehensive symbol coverage and realistic volatility

---

*This simulated data provides a realistic trading environment for development and testing purposes. For production trading, always use certified live market data feeds.*